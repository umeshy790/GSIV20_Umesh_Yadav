{"version":3,"sources":["async-actions-test.ts"],"names":["middlewares","thunk","mockStore","describe","afterEach","fetchMock","restore","it","getOnce","headers","expectedActions","type","types","REQUEST_UPCOMING_MOVIES_ACTION","REQUEST_UPCOMING_MOVIES_SUCCESS_ACTION","data","store","dispatch","then","getActions","toEqual"],"mappings":";;;;AAAA;;AAEA;;AACA;;AAEA;;AACA;;AACA;;AAGA,IAAMA,WAAW,GAAG,CAACC,mBAAD,CAApB;AACA,IAAMC,SAAS,GAAG,6BAAmBF,WAAnB,CAAlB;AAEAG,QAAQ,CAAC,eAAD,EAAkB,YAAM;AAC9BC,EAAAA,SAAS,CAAC,YAAM;AACdC,uBAAUC,OAAV;AACD,GAFQ,CAAT;AAIAC,EAAAA,EAAE,CAAC,6CAAD,EAAgD,YAAM;AACtDF,uBAAUG,OAAV,CACE,sFADF,EAEE;AACEC,MAAAA,OAAO,EAAE;AAAC,wBAAgB;AAAjB;AADX,KAFF;;AAOA,QAAMC,eAAe,GAAG,CACtB;AAACC,MAAAA,IAAI,EAAEC,KAAK,CAACC;AAAb,KADsB,EAEtB;AACEF,MAAAA,IAAI,EAAEC,KAAK,CAACE,sCADd;AAEEC,MAAAA,IAAI,EAAE;AAFR,KAFsB,CAAxB;AAOA,QAAMC,KAAK,GAAGd,SAAS,CAAC,EAAD,CAAvB;AAEA,WAAOc,KAAK,CAACC,QAAN,CAAe,kCAAf,EAAsCC,IAAtC,CAA2C,YAAM;AAEtD,2BAAOF,KAAK,CAACG,UAAN,EAAP,EAA2BC,OAA3B,CAAmCV,eAAnC;AACD,KAHM,CAAP;AAID,GArBC,CAAF;AAsBD,CA3BO,CAAR","sourcesContent":["import * as types from '../src/types/types';\n\nimport configureMockStore from 'redux-mock-store';\nimport thunk, {ThunkMiddleware} from 'redux-thunk';\n\nimport fetchMock from 'fetch-mock';\nimport expect from 'expect'; // You can use any testing library\nimport {fetchUpcomingMovies} from '../src/action';\nimport {RootState} from '../src/store';\n\nconst middlewares = [thunk as ThunkMiddleware<RootState, types.AppActionsType>];\nconst mockStore = configureMockStore(middlewares);\n\ndescribe('async actions', () => {\n  afterEach(() => {\n    fetchMock.restore();\n  });\n\n  it('creates actions when fetching has been done', () => {\n    fetchMock.getOnce(\n      'https://api.themoviedb.org/3/movie/upcoming?api_key=b3a72b722e11795c7179cc928980a9e2',\n      {\n        headers: {'content-type': 'application/json'},\n      },\n    );\n\n    const expectedActions = [\n      {type: types.REQUEST_UPCOMING_MOVIES_ACTION},\n      {\n        type: types.REQUEST_UPCOMING_MOVIES_SUCCESS_ACTION,\n        data: [],\n      },\n    ];\n    const store = mockStore([]);\n\n    return store.dispatch(fetchUpcomingMovies()).then(() => {\n      // return of async actions\n      expect(store.getActions()).toEqual(expectedActions);\n    });\n  });\n});\n"]}