{"version":3,"sources":["UpcomingMovies.tsx"],"names":["selectState","state","movieListReducer","UpcomingMovies","loading","error","movies","dispatch","page","setPage","search","setSearch","navigation","handlePress","movie","id","navigate","handleOnReachedEnd","_page","handleChange","txt","styles","container","alignItems","justifyContent","header","wrapper","inputText","filter","title","toLowerCase","match","item","toString","StyleSheet","create","flex","backgroundColor","height","borderBottomWidth","hairlineWidth","borderBottomColor","paddingHorizontal","flexDirection","borderRadius","marginLeft","color"],"mappings":";;;;;;;;;;;;;AACA;;AACA;;AASA;;AACA;;AAEA;;AACA;;AACA;;;;;;AAEA,IAAMA,WAAW,GAAG,SAAdA,WAAc,CAACC,KAAD;AAAA,SAAsBA,KAAK,CAACC,gBAA5B;AAAA,CAApB;;AAEA,IAAMC,cAAwB,GAAG,SAA3BA,cAA2B,GAAM;AAAA,qBACJ,6BAAYH,WAAZ,CADI;AAAA,MAC9BI,OAD8B,gBAC9BA,OAD8B;AAAA,MACrBC,KADqB,gBACrBA,KADqB;AAAA,MACdC,MADc,gBACdA,MADc;;AAErC,MAAMC,QAAQ,GAAG,8BAAjB;;AAFqC,kBAGb,qBAAS,CAAT,CAHa;AAAA;AAAA,MAG9BC,IAH8B;AAAA,MAGxBC,OAHwB;;AAAA,mBAIT,qBAAS,EAAT,CAJS;AAAA;AAAA,MAI9BC,MAJ8B;AAAA,MAItBC,SAJsB;;AAMrC,MAAMC,UAAU,GAAG,4BAAnB;AAEA,wBAAU,YAAM;AACdL,IAAAA,QAAQ,CAAC,iCAAoBC,IAApB,CAAD,CAAR;AACD,GAFD,EAEG,CAACD,QAAD,EAAWC,IAAX,CAFH;;AAIA,MAAMK,YAAW,GAAG,SAAdA,WAAc,CAACC,KAAD,EAAwB;AAC1CP,IAAAA,QAAQ,CAAC,+BAAkBO,KAAK,CAACC,EAAxB,CAAD,CAAR;AACAH,IAAAA,UAAU,CAACI,QAAX,CAAoB,cAApB;AACD,GAHD;;AAKA,MAAMC,kBAAkB,GAAG,SAArBA,kBAAqB,GAAY;AACrC,QAAMC,KAAK,GAAGV,IAAI,GAAG,CAArB;;AACAC,IAAAA,OAAO,CAACS,KAAD,CAAP;AACD,GAHD;;AAKA,MAAMC,YAAY,GAAG,SAAfA,YAAe,CAACC,GAAD;AAAA,WAAiBT,SAAS,CAACS,GAAD,CAA1B;AAAA,GAArB;;AAEA,MAAIhB,OAAJ,EAAa;AACX,WACE,6BAAC,iBAAD;AACE,MAAA,KAAK,oBACAiB,MAAM,CAACC,SADP;AAEHC,QAAAA,UAAU,EAAE,QAFT;AAGHC,QAAAA,cAAc,EAAE;AAHb;AADP,OAME,6BAAC,8BAAD;AAAmB,MAAA,IAAI,EAAC;AAAxB,MANF,CADF;AAUD;;AAED,MAAInB,KAAJ,EAAW;AACT,WACE,6BAAC,iBAAD;AACE,MAAA,KAAK,oBACAgB,MAAM,CAACC,SADP;AAEHC,QAAAA,UAAU,EAAE,QAFT;AAGHC,QAAAA,cAAc,EAAE;AAHb;AADP,OAME,6BAAC,iBAAD,QAAOnB,KAAP,CANF,CADF;AAUD;;AAED,SACE,6BAAC,iBAAD;AAAM,IAAA,KAAK,EAAEgB,MAAM,CAACC;AAApB,KACE,6BAAC,iBAAD;AAAM,IAAA,KAAK,EAAED,MAAM,CAACI;AAApB,KACE,6BAAC,iBAAD;AAAM,IAAA,KAAK,EAAEJ,MAAM,CAACK;AAApB,KACE,6BAAC,sBAAD;AAAM,IAAA,IAAI,EAAC,QAAX;AAAoB,IAAA,IAAI,EAAE;AAA1B,IADF,EAEE,6BAAC,sBAAD;AACE,IAAA,KAAK,EAAEL,MAAM,CAACM,SADhB;AAEE,IAAA,WAAW,EAAC,QAFd;AAGE,IAAA,KAAK,EAAEjB,MAHT;AAIE,IAAA,YAAY,EAAES;AAJhB,IAFF,CADF,CADF,EAYE,6BAAC,qBAAD;AACE,IAAA,IAAI,EAAEb,MAAM,CAACsB,MAAP,CAAc,UAAAd,KAAK;AAAA,aACvBA,KAAK,CAACe,KAAN,CAAYC,WAAZ,GAA0BC,KAA1B,CAAgCrB,MAAM,CAACoB,WAAP,EAAhC,CADuB;AAAA,KAAnB,CADR;AAIE,IAAA,UAAU,EAAE,CAJd;AAKE,IAAA,UAAU,EAAE;AAAA,UAAEE,IAAF,QAAEA,IAAF;AAAA,aACV,6BAAC,kBAAD;AAAW,QAAA,KAAK,EAAEA,IAAlB;AAAwB,QAAA,WAAW,EAAE;AAAA,iBAAYnB,YAAW,CAACmB,IAAD,CAAvB;AAAA;AAArC,QADU;AAAA,KALd;AAQE,IAAA,YAAY,EAAE,sBAAAA,IAAI;AAAA,aAAIA,IAAI,CAACjB,EAAL,CAAQkB,QAAR,EAAJ;AAAA,KARpB;AASE,IAAA,qBAAqB,EAAE,GATzB;AAUE,IAAA,YAAY,EAAEhB;AAVhB,IAZF,CADF;AA2BD,CA7ED;;eA+Eed,c;;;AAEf,IAAMkB,MAAM,GAAGa,wBAAWC,MAAX,CAAkB;AAC/Bb,EAAAA,SAAS,EAAE;AACTc,IAAAA,IAAI,EAAE,CADG;AAETC,IAAAA,eAAe,EAAE;AAFR,GADoB;AAK/BZ,EAAAA,MAAM,EAAE;AACNa,IAAAA,MAAM,EAAE,EADF;AAENC,IAAAA,iBAAiB,EAAEL,wBAAWM,aAFxB;AAGNC,IAAAA,iBAAiB,EAAE,SAHb;AAINC,IAAAA,iBAAiB,EAAE,EAJb;AAKNlB,IAAAA,cAAc,EAAE;AALV,GALuB;AAY/BE,EAAAA,OAAO,EAAE;AACPW,IAAAA,eAAe,EAAE,SADV;AAEPM,IAAAA,aAAa,EAAE,KAFR;AAGPpB,IAAAA,UAAU,EAAE,QAHL;AAIPqB,IAAAA,YAAY,EAAE,CAJP;AAKPF,IAAAA,iBAAiB,EAAE;AALZ,GAZsB;AAmB/Bf,EAAAA,SAAS,EAAE;AACTkB,IAAAA,UAAU,EAAE,CADH;AAETT,IAAAA,IAAI,EAAE,CAFG;AAGTE,IAAAA,MAAM,EAAE,EAHC;AAITQ,IAAAA,KAAK,EAAE;AAJE;AAnBoB,CAAlB,CAAf","sourcesContent":["/* eslint-disable react-native/no-inline-styles */\nimport React, {useEffect, useState} from 'react';\nimport {\n  StyleSheet,\n  Text,\n  View,\n  FlatList,\n  TextInput,\n  ActivityIndicator,\n} from 'react-native';\nimport {RootState} from '../store';\nimport {useSelector, useDispatch} from 'react-redux';\nimport {fetchUpcomingMovies, fetchMovieDetails} from '../action';\nimport {Movie} from '../modal/modals';\nimport MovieCard from './MovieCard';\nimport {useNavigation} from '@react-navigation/native';\nimport Icon from 'react-native-vector-icons/MaterialIcons';\n\nconst selectState = (state: RootState) => state.movieListReducer;\n\nconst UpcomingMovies: React.FC = () => {\n  const {loading, error, movies} = useSelector(selectState);\n  const dispatch = useDispatch();\n  const [page, setPage] = useState(1);\n  const [search, setSearch] = useState('');\n\n  const navigation = useNavigation();\n\n  useEffect(() => {\n    dispatch(fetchUpcomingMovies(page));\n  }, [dispatch, page]);\n\n  const handlePress = (movie: Movie): void => {\n    dispatch(fetchMovieDetails(movie.id));\n    navigation.navigate('MovieDetails');\n  };\n\n  const handleOnReachedEnd = (): void => {\n    const _page = page + 1;\n    setPage(_page);\n  };\n\n  const handleChange = (txt: string) => setSearch(txt);\n\n  if (loading) {\n    return (\n      <View\n        style={{\n          ...styles.container,\n          alignItems: 'center',\n          justifyContent: 'center',\n        }}>\n        <ActivityIndicator size=\"large\" />\n      </View>\n    );\n  }\n\n  if (error) {\n    return (\n      <View\n        style={{\n          ...styles.container,\n          alignItems: 'center',\n          justifyContent: 'center',\n        }}>\n        <Text>{error}</Text>\n      </View>\n    );\n  }\n\n  return (\n    <View style={styles.container}>\n      <View style={styles.header}>\n        <View style={styles.wrapper}>\n          <Icon name=\"search\" size={20} />\n          <TextInput\n            style={styles.inputText}\n            placeholder=\"Search\"\n            value={search}\n            onChangeText={handleChange}\n          />\n        </View>\n      </View>\n      <FlatList<Movie>\n        data={movies.filter(movie =>\n          movie.title.toLowerCase().match(search.toLowerCase()),\n        )}\n        numColumns={2}\n        renderItem={({item}) => (\n          <MovieCard movie={item} handlePress={(): void => handlePress(item)} />\n        )}\n        keyExtractor={item => item.id.toString()}\n        onEndReachedThreshold={0.5}\n        onEndReached={handleOnReachedEnd}\n      />\n    </View>\n  );\n};\n\nexport default UpcomingMovies;\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#ffffff',\n  },\n  header: {\n    height: 52,\n    borderBottomWidth: StyleSheet.hairlineWidth,\n    borderBottomColor: '#4a4a4a',\n    paddingHorizontal: 10,\n    justifyContent: 'center',\n  },\n  wrapper: {\n    backgroundColor: '#dfdfdf',\n    flexDirection: 'row',\n    alignItems: 'center',\n    borderRadius: 5,\n    paddingHorizontal: 8,\n  },\n  inputText: {\n    marginLeft: 5,\n    flex: 1,\n    height: 40,\n    color: '#000000',\n  },\n});\n"]}